image: node:14.17.0  # Use Node.js Docker image

stages:
  - test

cache:
  key: ${CI_COMMIT_REF_SLUG}
  paths:
    - node_modules/  # Cache node_modules to speed up builds

before_script:
  # - export PATH="$JAVA_HOME/bin:$PATH"  # Add Java binary directory to PATH
  # - java -version  # Verify Java installation
  # - npm install -g react-native-cli  # Install React Native CLI globally
  - npm install -g typescript
  - npm install typescript tslint
  - npm install  # Install dependencies
  - npm install react-native-document-picker

# build_android:
#   stage: build
#   script:
#     - npm run android  # Run React Native command to build Android app
#   artifacts:
#     paths:
#       - android/app/build/outputs/  # Save Android build artifacts

# build_ios:
#   stage: build
#   script:
#     - cd ios && pod install && cd ..  # Run pod install in the ios directory
#     - npm run ios  # Run React Native command to build iOS app
#   artifacts:
#     paths:
#       - ios/build/  # Save iOS build artifacts

test:
  stage: test
  script:
    - npm run test  # Run React Native tests
  artifacts:
    paths:
      - coverage/  # Save test coverage reports, if applicable
